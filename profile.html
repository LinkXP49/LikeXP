<!DOCTYPE html>
<html>
  <head>
    <div id="user-bar" style="display:flex; gap:12px; align-items:center;"></div>
    <title>LinkXP Profile</title>
  <link rel="stylesheet" href="../style.css">
</head>
  <body>
   <img id="avatar" style="width:140px;height:140px;border-radius:50%;" />
    <h1>Gamer Profile</h1>
<p><strong>Name:</strong> <span id="name"></span></p>
<p><strong>Main Game:</strong> <span id="game"></span></p>
<p><strong>Skill Level:</strong> <span id="skill"></span></p>

<p><strong>AI Bio:</strong></p>
<p id="bio"></p>

<p><strong>Profile Tags:</strong></p>
<ul id="tags"></ul>

<button onclick="regenerateBio()">Regenerate Bio</button>
<br><br>
<button onclick="copyProfileLink()">Copy Profile Link</button>
<button onclick="alert('Follow system coming soon')">
  ‚≠ê Follow
</button><a href="setup.html">Edit Profile</a> | <a href="index.html">Home</a>

<script>
document.getElementById("name").textContent = localStorage.getItem("gamerName");
document.getElementById("game").textContent = localStorage.getItem("mainGame");
document.getElementById("skill").textContent = localStorage.getItem("skillLevel");
document.getElementById("bio").textContent = localStorage.getItem("aiBio");
const avatar = localStorage.getItem("avatar");
if (avatar) {
  document.getElementById("profilePic").src = avatar;
} else {
  document.getElementById("profilePic").src = "https://via.placeholder.com/120"; // default
}

// Display tags
const tags = JSON.parse(localStorage.getItem("aiTags"));
const tagsList = document.getElementById("tags");
tags.forEach(tag => {
  const li = document.createElement("li");
  li.textContent = tag;
  tagsList.appendChild(li);
});
  // supabase.js
  
const SUPABASE_URL = https://ekttgxbdhxedtpggurpj.supabase.co';
const SUPABASE_ANON_KEY = sb_publishable_SHZvY63CAzzqrJHezW9-Lg_1TjFvHfZ
const supabase = window.supabase.createClient(
  SUPABASE_URL,
  SUPABASE_ANON_KEY
);
    // Session persistence check
supabase.auth.onAuthStateChange((event, session) => {
  if (session?.user) {
    console.log('Logged in:', session.user.email);
  } else {
    console.log('Logged out');
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="supabase.js"></script>
<h1 id="name"></h1>
<p id="games"></p>
<p id="tags"></p>
<a id="twitch" target="_blank"></a>

<script>
const params = new URLSearchParams(window.location.search);
const username = params.get('u');

(async () => {
  const { data } = await supabase
    .from('profiles')
    .select('*')
    .eq('username', username)
    .single();

  if (!data) {
    document.body.innerHTML = 'Profile not found';
    return;
  }

  name.innerText = data.username;
  games.innerText = data.favorite_games?.length
  ? 'üéÆ ' + data.favorite_games.join(', ')
  : 'üéÆ No games added yet';

tags.innerText = data.gamertags
  ? `Steam: ${data.gamertags.steam || '‚Äî'} | Xbox: ${data.gamertags.xbox || '‚Äî'}`
  : 'No gamertags yet';

if (data.socials?.twitch) {
  twitch.href = data.socials.twitch;
  twitch.innerText = 'Watch on Twitch';
} else {
  twitch.innerText = 'No Twitch linked';
}
</script></script>
  }
  <!-- 1Ô∏è‚É£ Load Supabase SDK -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- 2Ô∏è‚É£ Load your config -->
<script src="supabase.js"></script> });  <style>
  </body>
</html>
